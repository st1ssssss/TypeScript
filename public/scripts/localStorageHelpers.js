import { User } from './userClass.js';
import { FavouriteItem, FavouriteAmount } from './favouriteAmountClass.js';
import { FlatRentSdk, database } from './flat-rent-sdk.js';
const FlatRent = new FlatRentSdk();
const user = new User('Wade Warren', '/img/avatar.png');
const favouriteItems = new FavouriteItem();
export const localStorageSetter = () => {
    const userJson = JSON.stringify(user);
    const favouriteItemsJson = JSON.stringify(favouriteItems);
    FlatRent._writeDatabase(database);
    localStorage.setItem('user', userJson);
    localStorage.setItem('favouriteItems', favouriteItemsJson);
    localStorage.setItem('favouriteAmount', favouriteAmountSetter());
};
export const getUserData = (value) => {
    if (typeof value === 'string') {
        const { username, avatarUrl } = JSON.parse(localStorage.getItem(value));
        return new User(username, avatarUrl);
    }
};
export const favouriteAmountSetter = () => {
    const favItems = Object.keys(JSON.parse(localStorage.getItem('favouriteItems'))).length;
    return JSON.stringify(new FavouriteAmount(favItems));
};
export const getFavouriteAmount = (value) => {
    if (typeof value === 'string') {
        const { number } = JSON.parse(localStorage.getItem(value));
        return new FavouriteAmount(number);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYWxTdG9yYWdlSGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2NhbFN0b3JhZ2VIZWxwZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQTtBQUNyQyxPQUFPLEVBQUUsYUFBYSxFQUFFLGVBQWUsRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBQzFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFFMUQsTUFBTSxRQUFRLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQTtBQUNsQyxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsQ0FBQTtBQUN2RCxNQUFNLGNBQWMsR0FBRyxJQUFJLGFBQWEsRUFBRSxDQUFBO0FBRTFDLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLEdBQVMsRUFBRTtJQUMzQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3JDLE1BQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUV6RCxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ2pDLFlBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFBO0lBQ3RDLFlBQVksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQTtJQUMxRCxZQUFZLENBQUMsT0FBTyxDQUFDLGlCQUFpQixFQUFFLHFCQUFxQixFQUFFLENBQUMsQ0FBQTtBQUNsRSxDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUFjLEVBQVEsRUFBRTtJQUVsRCxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO1FBQ3ZFLE9BQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFBO0tBRXJDO0FBRUgsQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsR0FBVyxFQUFFO0lBQ2hELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtJQUN2RixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQTtBQUV0RCxDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEtBQWMsRUFBbUIsRUFBRTtJQUVwRSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7UUFDMUQsT0FBTyxJQUFJLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtLQUVuQztBQUVILENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXIgfSBmcm9tICcuL3VzZXJDbGFzcy5qcydcbmltcG9ydCB7IEZhdm91cml0ZUl0ZW0sIEZhdm91cml0ZUFtb3VudCB9IGZyb20gJy4vZmF2b3VyaXRlQW1vdW50Q2xhc3MuanMnXG5pbXBvcnQgeyBGbGF0UmVudFNkaywgZGF0YWJhc2UgfSBmcm9tICcuL2ZsYXQtcmVudC1zZGsuanMnXG5cbmNvbnN0IEZsYXRSZW50ID0gbmV3IEZsYXRSZW50U2RrKClcbmNvbnN0IHVzZXIgPSBuZXcgVXNlcignV2FkZSBXYXJyZW4nLCAnL2ltZy9hdmF0YXIucG5nJylcbmNvbnN0IGZhdm91cml0ZUl0ZW1zID0gbmV3IEZhdm91cml0ZUl0ZW0oKVxuXG5leHBvcnQgY29uc3QgbG9jYWxTdG9yYWdlU2V0dGVyID0gKCk6IHZvaWQgPT4ge1xuICBjb25zdCB1c2VySnNvbiA9IEpTT04uc3RyaW5naWZ5KHVzZXIpXG4gIGNvbnN0IGZhdm91cml0ZUl0ZW1zSnNvbiA9IEpTT04uc3RyaW5naWZ5KGZhdm91cml0ZUl0ZW1zKVxuXG4gIEZsYXRSZW50Ll93cml0ZURhdGFiYXNlKGRhdGFiYXNlKVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIHVzZXJKc29uKVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmF2b3VyaXRlSXRlbXMnLCBmYXZvdXJpdGVJdGVtc0pzb24pXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmYXZvdXJpdGVBbW91bnQnLCBmYXZvdXJpdGVBbW91bnRTZXR0ZXIoKSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVzZXJEYXRhID0gKHZhbHVlOiB1bmtub3duKTogVXNlciA9PiB7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCB7IHVzZXJuYW1lLCBhdmF0YXJVcmwgfSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odmFsdWUpKVxuICAgIHJldHVybiBuZXcgVXNlcih1c2VybmFtZSwgYXZhdGFyVXJsKVxuXG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgZmF2b3VyaXRlQW1vdW50U2V0dGVyID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGZhdkl0ZW1zID0gT2JqZWN0LmtleXMoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmF2b3VyaXRlSXRlbXMnKSkpLmxlbmd0aFxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobmV3IEZhdm91cml0ZUFtb3VudChmYXZJdGVtcykpXG5cbn1cblxuZXhwb3J0IGNvbnN0IGdldEZhdm91cml0ZUFtb3VudCA9ICh2YWx1ZTogdW5rbm93bik6IEZhdm91cml0ZUFtb3VudCA9PiB7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCB7IG51bWJlciB9ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh2YWx1ZSkpXG4gICAgcmV0dXJuIG5ldyBGYXZvdXJpdGVBbW91bnQobnVtYmVyKVxuXG4gIH1cblxufVxuIl19